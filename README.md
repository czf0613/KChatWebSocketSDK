# KChatWebSocketSDKGuidance

KChat的底层实现为http2，是一项比较新的技术，因此在很多平台上都有限制，例如：网页、小程序、旧版Windows等等不兼容新http协议的运行时。
本仓库放入的是KChatService的Websocket实现，主体实现语言是Golang。通信协议为http1与Websocket，几乎能兼容市面上所有的设备。

即便有的设备不方便实现websocket，也可以通过轮询http接口的方式，达到接近于“推送”的效果，具体可以参见下方的同步聊天记录接口。

## 接口文档

### 约定

1，如无意外，发送的消息都是json格式，并且编码为UTF8。请小心字符集引发的乱码，尤其是当前端发送了Emoji之类的特殊字符。

2，如需在json中发送二进制内容时，请将二进制内容进行base64之后再发送，并且附带的内容不宜过大，如果发送巨大的二进制内容，如图片视频语音片段等，请使用KCos项目配合进行发送。

3，接口中利用到了时间的字段，都采用ISO8601标准的时间戳，因此时间字段带有时区的属性。由于不同服务器的特性，我们不能保证返回的时间一定是+08:00，但是我们保证时间一定正确（即，服务器无法保证回传的值究竟是2022-01-01T00:00:00.000+00:00还是2022-01-01T08:00:00.000+08:00，但是这两个值表示的时间其实是同一点）
